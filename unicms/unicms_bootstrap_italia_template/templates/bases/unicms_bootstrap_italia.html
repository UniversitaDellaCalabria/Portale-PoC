<!-- Extends default Bootstrap Unical Italia template -->
<!--
base-setup.html
bootstrap-italia-base.html
-->
{% extends 'bootstrap-italia-base.html' %}


{% load i18n %}

<!-- From app django-sass-processor -->
{% if debug %}
    {% load sass_tags %}
{% endif %}
{% load static %}

<!-- load custom template tags -->
{% load unicms_carousels %}
{% load unicms_contexts %}
{% load unicms_menus %}
{% load unicms_pages %}
{% load unicms_publications %}
{% load unicms_templates %}

<!-- Return to Agid native template -->
{% block extra_head %}
{{ block.super }}
{% include "inits/vue-init.html" %}
{% include "inits/search-input-handler.html" %}
{% endblock extra_head %}

<!-- Page Title -->
{% block page_title %}{% trans "Bootstrap Italia Django CMS" %}{% endblock page_title %}

{% block header_slim_wrapper %}
{% if request.user.is_staff %}
<div class="container bg-white">
    <div class="row">
        {% include "editorialboard_frontend_menu.html" %}
    </div>
</div>
{% endif %}

<div class="d-lg-none">{{ block.super }}</div>

{% endblock header_slim_wrapper %}

{% block footer_org_text %}
{% endblock footer_org_text %}

{% block header_slim_right_zone %}
{% endblock header_slim_right_zone %}

<!-- URL link logo and org name -->
{% block header_center_url %}
{{ webpath.get_full_path }}
{% endblock header_center_url %}

<!-- Make empty areas -->
{% block header_mobile_arrow %}
{% endblock header_mobile_arrow %}

{% block header_mobile_slim_menu %}
{% endblock header_mobile_slim_menu %}

{% block header_center_wrapper_columns %}
col-10 offset-2 col-lg-12 offset-lg-0
{% endblock header_center_wrapper_columns %}

{% block header_center_right_zone %}
<div class="it-right-zone col-12 col-lg-5 offset-lg-1">
    <div class="row" style="width: 100%">

        <div class="col-2 offset-3 offset-md-0 col-md-6">
            <svg class="icon d-md-none icon-sm icon-light">
                <use xlink:href="{% static 'svg/sprite.svg' %}#it-search"></use>
            </svg>
            <div class="row d-none d-md-flex">
                <div class="col-2 col-lg-3 text-right">
                    <svg class="icon icon-md icon-light">
                        <use xlink:href="{% static 'svg/sprite.svg' %}#it-search"></use>
                    </svg>
                </div>
                <div class="col-9 col-lg-8">
                    <input id="search-input" type="text" class="top-input" />
                </div>
            </div>
        </div>

        <div class="col-2 col-md-2 text-center">
            <svg class="icon icon-sm d-lg-none icon-light align-middle">
              <use xlink:href="{% static 'svg/sprite.svg' %}#it-card"></use>
            </svg>
            <svg class="icon icon-md d-none d-lg-inline icon-light align-middle">
              <use xlink:href="{% static 'svg/sprite.svg' %}#it-card"></use>
            </svg>
        </div>

        <div class="col-2 col-md-2 text-center">
            <div class="nav-item dropdown">
                <a class="nav-link dropdown-toggle p-0 text-center"
                   href="#"
                   data-toggle="dropdown"
                   aria-expanded="false">
                    <span>{{ request.LANGUAGE_CODE }}</span>
                </a>
                <div class="dropdown-menu">
                    <div class="row">
                        <div class="col-12">
                            <div class="link-list-wrapper">
                                <ul class="link-list">
                                    {% language_menu as language_urls %}
                                    {% for lang,url in language_urls.items %}
                                    <li><a class="list-item" href="{{ url }}"><span>{{ lang }}</span></a></li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-3 col-md-2 text-center">
            <span>
                {% trans "Login" %}
            </span>
        </div>
    </div>
</div>
{% endblock header_center_right_zone %}

<!-- Main Menu -->
{% block main_menu %}
<div class="it-header-navbar-wrapper">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navbar-expand-lg has-megamenu">
                    <button class="custom-navbar-toggler"
                            type="button"
                            aria-controls="nav10"
                            aria-expanded="false"
                            aria-label="Toggle navigation"
                            data-target="#nav10">
                        <svg class="icon">
                            <use xlink:href="{% static 'svg/sprite.svg' %}#it-burger"></use>
                        </svg>
                    </button>
                    <div class="navbar-collapsable" id="nav10">
                        <div class="overlay"></div>
                        <div class="close-div sr-only">
                            <button class="btn close-menu" type="button">
                                <span class="it-close"></span>{% trans "close" %}
                            </button>
                        </div>
                        <div class="menu-wrapper">
                            <ul class="navbar-nav">
                                {% block menu_main %}
                                    <!-- LOAD menu Blocks -->
                                    {% load_blocks section='menu-1' as main_menu %}
                                    {{ main_menu }}
                                {% endblock menu_main %}
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</div>
{% endblock main_menu %}

{% block container %}

<!-- Breadcrumbs -->
{% block breadcrumbs %}
    {% comment %}
    {% breadcrumbs leaf=handler %}
    {% endcomment %}
    {% load_blocks section="breadcrumbs" %}
{% endblock breadcrumbs %}
<!-- end Breadcrumbs -->

<!-- Blocks in section 1 -->
{% block section_1 %}
{% blocks_in_position position="section-1" as section_1 %}
{% if section_1 %}
<div class="{% block section_1_classes %}py-3{% endblock section_1_classes %}">
    <div class="container">
        {% include section_1_template|default:"grid/section_1/section.html" %}
    </div>
</div>
{% endif %}
{% endblock section_1 %}
<!-- end Blocks in section 1 -->

<!-- Blocks in section 2 -->
{% block section_2 %}
{% blocks_in_position position="section-2" as section_2 %}
{% if section_2 %}
<div class="{% block section_2_classes %}py-3 neutral-2-bg{% endblock section_2_classes %}">
    <div class="container">
        {% include section_2_template|default:"grid/section_2/section.html" %}
    </div>
</div>
{% endif %}
{% endblock section_2 %}
<!-- end Blocks in section 2 -->

<!-- Blocks in section 3 -->
{% block section_3 %}
{% blocks_in_position position="section-3" as section_3 %}
{% if section_3 %}
<div class="{% block section_3_classes %}py-3{% endblock section_3_classes %}">
    <div class="container">
        {% include section_2_template|default:"grid/section_3/section.html" %}
    </div>
</div>
{% endif %}
{% endblock section_3 %}
<!-- endBlocks in section 3 -->

{% endblock container %}
